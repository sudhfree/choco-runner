<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sweetness of My Life</title>
  <style>
    :root { --bg1:#fff3e8; --bg2:#ffe8f2; --ink:#3a2a1a; }
    *{ box-sizing:border-box; }
    body{
      margin:0; height:100vh; overflow:hidden;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--ink);
      background: radial-gradient(1200px 800px at 15% 10%, var(--bg2), transparent 60%),
                  radial-gradient(1200px 900px at 85% 90%, var(--bg1), transparent 60%),
                  linear-gradient(135deg, #fff, #fff7fb);
    }

    .hint{
      position:fixed; left:50%; top:14px; transform:translateX(-50%);
      padding:10px 14px; border-radius:999px;
      background: rgba(255,255,255,.75);
      border: 1px solid rgba(0,0,0,.06);
      backdrop-filter: blur(8px);
      box-shadow: 0 10px 30px rgba(0,0,0,.08);
      font-size:14px;
      user-select:none;
      z-index:10;
    }

    .stage{
      position:relative; width:100%; height:100%;
    }

    /* Cute chocolate with real image */
    .choco{
      position:absolute;
      width:130px; height:130px;
      transform: translate(-50%, -50%);
      transition: transform .12s ease;
      user-select:none;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      cursor:pointer;
    }
    .choco img{
      width:100%; height:auto;
      border-radius:18px;
      filter: drop-shadow(0 14px 28px rgba(0,0,0,.25));
    }
    .choco .face-row{
      position:absolute; top:50%; left:50%;
      transform: translate(-50%,-50%);
      display:flex; flex-direction:column; align-items:center; gap:2px;
      z-index:2;
      pointer-events:none;
    }
    .choco .eyes{
      font-size:26px;
      filter: drop-shadow(0 3px 5px rgba(0,0,0,.35));
      letter-spacing:4px;
    }
    .choco .mouth{
      font-size:24px;
      filter: drop-shadow(0 4px 6px rgba(0,0,0,.35));
    }

    /* Timer display */
    .timer{
      position:fixed; right:18px; top:14px;
      padding:8px 16px; border-radius:999px;
      background: rgba(255,255,255,.8);
      border: 1px solid rgba(0,0,0,.06);
      backdrop-filter: blur(8px);
      box-shadow: 0 8px 24px rgba(0,0,0,.08);
      font-size:16px; font-weight:700;
      z-index:10; user-select:none;
      color:var(--ink);
    }
    .timer.urgent{ color:#d32f2f; }

    /* Peeking chocolate */
    .peek-wrap{
      position:absolute;
      top:50%;
      right:-140px; /* offscreen initially */
      transform: translateY(-50%);
      width:220px;
      height:180px;
      pointer-events:none;
      transition: right 1.1s cubic-bezier(.2,.9,.2,1);
      z-index:9;
    }
    .peek-wrap.show{ right:18px; }
    .peek{
      position:absolute; right:0; top:50%; transform:translateY(-50%);
      width:140px; height:140px;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
    }
    .peek img{
      width:100%; height:auto;
      border-radius:18px;
      filter: drop-shadow(0 14px 28px rgba(0,0,0,.25));
    }
    .peek .peek-face{
      position:absolute; top:50%; left:50%;
      transform: translate(-50%,-50%);
      display:flex; flex-direction:column; align-items:center; gap:2px;
      z-index:2; pointer-events:none;
    }
    .peek .peek-eyes{
      font-size:26px;
      filter: drop-shadow(0 3px 5px rgba(0,0,0,.35));
      letter-spacing:4px;
    }
    .peek .peek-mouth{
      font-size:24px;
      filter: drop-shadow(0 4px 6px rgba(0,0,0,.35));
    }

    .card{
      position:absolute;
      right:148px;
      top:50%;
      transform: translateY(-50%);
      max-width:340px;
      padding:14px 16px;
      border-radius:18px;
      background: rgba(255,255,255,.82);
      border: 1px solid rgba(0,0,0,.06);
      backdrop-filter: blur(10px);
      box-shadow: 0 12px 40px rgba(0,0,0,.12);
      opacity:0;
      transition: opacity .9s ease .35s, transform .9s ease .35s;
    }
    .peek-wrap.show .card{
      opacity:1;
      transform: translateY(-50%) translateX(0);
    }
    .card h1{
      margin:0 0 6px 0;
      font-size:18px;
      letter-spacing:.2px;
    }
    .card p{
      margin:0;
      font-size:15px;
      line-height:1.35;
    }
    .card .msg{
      display:inline-block;
      margin-top:10px;
      padding:8px 12px;
      border-radius:999px;
      background: linear-gradient(135deg, #ffb3d1, #ffd6a8);
      border: 1px solid rgba(0,0,0,.06);
      font-weight:650;
    }

    /* Little hearts */
    .heart{
      position:absolute;
      font-size:16px;
      opacity:0;
      transform: translate(-50%,-50%) scale(.7);
      animation: pop 900ms ease forwards;
      pointer-events:none;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.15));
    }
    @keyframes pop{
      0%{ opacity:0; transform: translate(-50%,-40%) scale(.6); }
      30%{ opacity:1; }
      100%{ opacity:0; transform: translate(-50%,-120%) scale(1.15); }
    }

    @media (max-width:520px){
      .hint{ font-size:13px; }
      .card{ max-width:250px; }
    }
  </style>
</head>
<body>
  <div class="hint" id="hint">Try to catch the chocolate üç´ (move your mouse near it)</div>

  <div class="stage" id="stage">
    <!-- runaway chocolate -->
    <div class="choco" id="runner" aria-label="runaway chocolate">
      <div class="eyes" id="eyes">üëÄ</div>
      <div class="mouth" id="mouth">üòõ</div>
    </div>

    <!-- peeking chocolate + message -->
    <div class="peek-wrap" id="peekWrap" aria-hidden="true">
      <div class="card">
        <h1>Hey‚Ä¶</h1>
        <p>I won‚Äôt run away.</p>
        <div class="msg">you are sweetness of my life</div>
      </div>
      <div class="peek">
        <div class="peek-eyes">üëÄ</div>
        <div class="peek-mouth">üòä</div>
      </div>
    </div>
  </div>

  <script>
    const stage = document.getElementById("stage");
    const runner = document.getElementById("runner");
    const mouth = document.getElementById("mouth");
    const hint = document.getElementById("hint");
    const peekWrap = document.getElementById("peekWrap");
    const timerEl = document.getElementById("timer");

    // Place runner somewhere nice initially
    let x = window.innerWidth * 0.45;
    let y = window.innerHeight * 0.58;
    let escapes = 0;
    let offered = false;

    // Timer ‚Äî game runs for 15 seconds
    const gameDuration = 15;
    let timeLeft = gameDuration;
    const gameTimer = setInterval(() => {
      timeLeft--;
      timerEl.textContent = "‚è± " + timeLeft + "s";
      if (timeLeft <= 5) timerEl.classList.add("urgent");
      if (timeLeft <= 0) {
        clearInterval(gameTimer);
        offerChocolate();
      }
    }, 1000);

    // Tuning
    const scareRadius = 120;     // how close mouse needs to be
    const jumpStrength = 180;    // how far it tries to jump away
    const edgePadding = 60;      // keep inside viewport

    function clamp(val, min, max){ return Math.max(min, Math.min(max, val)); }

    function setRunnerPos(nx, ny){
      x = clamp(nx, edgePadding, window.innerWidth - edgePadding);
      y = clamp(ny, edgePadding, window.innerHeight - edgePadding);
      runner.style.left = x + "px";
      runner.style.top  = y + "px";
    }

    function spawnHeart(px, py){
      const h = document.createElement("div");
      h.className = "heart";
      h.textContent = Math.random() > 0.5 ? "üíñ" : "‚ú®";
      h.style.left = px + "px";
      h.style.top  = py + "px";
      stage.appendChild(h);
      setTimeout(() => h.remove(), 950);
    }

    function offerChocolate(){
      if (offered) return;
      offered = true;
      clearInterval(gameTimer);
      timerEl.textContent = "‚è± 0s";
      timerEl.classList.add("urgent");
      hint.textContent = "Okay okay‚Ä¶ someone else wants to say hi üôÇ";
      runner.style.opacity = "0";
      runner.style.transition = "opacity .5s ease";
      peekWrap.classList.add("show");

      // sprinkle a few hearts
      const px = window.innerWidth - 160;
      const py = window.innerHeight * 0.5;
      for (let i=0;i<10;i++){
        setTimeout(() => spawnHeart(px - Math.random()*140, py + (Math.random()*140-70)), i*110);
      }
    }

    function fleeFromMouse(mx, my){
      const dx = x - mx;
      const dy = y - my;
      const dist = Math.hypot(dx, dy) || 1;

      if (dist < scareRadius){
        // Runner looks cheeky
        mouth.textContent = ["üòõ","üòÜ","üòù","üôÉ"][escapes % 4];

        // Move away from mouse
        const ux = dx / dist;
        const uy = dy / dist;

        // Add slight randomness so it feels playful
        const jitter = 0.65 + Math.random()*0.55;
        const nx = x + ux * jumpStrength * jitter + (Math.random()*22 - 11);
        const ny = y + uy * jumpStrength * jitter + (Math.random()*22 - 11);

        setRunnerPos(nx, ny);

        escapes++;
        const taunts = [
          "Nope üòÑ catch me if you can!",
          "Too slow! üòù",
          "Almost! Try again üòÜ",
          "Haha, not even close! üôÉ",
          "You're persistent‚Ä¶ keep trying!"
        ];
        hint.textContent = taunts[escapes % taunts.length];

        // Tiny reaction scale
        runner.style.transform = "translate(-50%, -50%) scale(1.05)";
        setTimeout(() => runner.style.transform = "translate(-50%, -50%) scale(1)", 120);

        // optional sparkle
        spawnHeart(x, y);
      }
    }

    // Init
    setRunnerPos(x, y);

    window.addEventListener("mousemove", (e) => {
      if (offered) return; // once offer appears, runner stops reacting
      fleeFromMouse(e.clientX, e.clientY);
    });

    window.addEventListener("resize", () => setRunnerPos(x, y));
  </script>
</body>
</html>
